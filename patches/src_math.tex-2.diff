--- a/src/math.tex
+++ b/src/math.tex
@@ -250,318 +250,311 @@ following commands to typeset the most important function names:
 
 \begin{example}
 \[\lim_{x \rightarrow 0}
-\frac{\sin x}{x}=1\]
+ \frac{\sin x}{x}=1\]
 \end{example}
 
 For the \wi{modulo function}, there are two commands: \ci{bmod} for the
 binary operator ``$a \bmod b$'' and \ci{pmod}
 for expressions
-such as ``$x\equiv a \pmod{b}$.''
+such as ``$x\equiv a \pmod{b}$:''
 \begin{example}
-$a\bmod b$\\
-$x\equiv a \pmod{b}$
+$a\bmod b \\
+ x\equiv a \pmod{b}$
 \end{example}
 
 A built-up \textbf{\wi{fraction}} is typeset with the
-\ci{frac}\verb|{...}{...}| command.
+\ci{frac}\verb|{...}{...}| command. In in-line equations, the fraction is shrunk to
+fit the line. This style is obtainable in display style with \ci{tfrac}. The
+reverse, i.e. display style-fraction in text style, is made with \ci{dfrac}.
 Often the slashed form $1/2$ is preferable, because it looks better
-for small amounts of `fraction material.'
+for small amounts of `fraction material:'
 \begin{example}
-$1\frac{1}{2}$~hours
-\begin{displaymath}
-\frac{ x^{2} }{ k+1 }\qquad
-x^{ \frac{2}{k+1} }\qquad
-x^{ 1/2 }
-\end{displaymath}
+In display style:
+\[3/8 \qquad \frac{3}{8} 
+ \qquad \tfrac{3}{8} \]
 \end{example}
 
-To typeset binomial coefficients or similar structures, you can use
-the command \ci{binom} from the \pai{amsmath} package.
+\begin{example}
+In text style:
+$1\frac{1}{2}$~hours \qquad
+$1\dfrac{1}{2}$~hours
+\end{example}
+ 
+Here the \ci{partial} command for \wi{partial derivative}s is used:
+\begin{example}
+\[\sqrt{\frac{x^2}{k+1}}\qquad
+  x^\frac{2}{k+1}\qquad
+  \frac{\partial^2f}
+  {\partial x^2} \]
+\end{example}
 
+To typeset \wi{binomial coefficient}s or similar structures, use
+the command \ci{binom} from \pai{amsmath}:
 \begin{example}
-\begin{displaymath}
-\binom{n}{k}\qquad\mathrm{C}_n^k
-\end{displaymath}
+Pascal's rule is
+\begin{equation*}
+ \binom{n}{k} =\binom{n-1}{k}
+ + \binom{n-1}{k-1}
+\end{equation*}
 \end{example}
 
-For binary relations it may be useful to stack symbols over each other.
-\ci{stackrel} puts the symbol given
-in the first argument in superscript-like size over the second, which
+For \wi{binary relations} it may be useful to stack symbols over each other.
+\ci{stackrel}\verb|{#1}{#1}| puts the symbol given
+in \verb|#1| in superscript-like size over \verb|#2| which
 is set in its usual position.
 \begin{example}
-\begin{displaymath}
-\int f_N(x) \stackrel{!}{=} 1
-\end{displaymath}
+\begin{equation*}
+ f_n(x) \stackrel{*}{\approx} 1
+\end{equation*}
 \end{example}
 
 The \textbf{\wi{integral operator}} is generated with \ci{int}, the
 \textbf{\wi{sum operator}} with \ci{sum}, and the \textbf{\wi{product operator}}
 with \ci{prod}. The upper and lower limits are specified with~\verb|^|
-and~\verb|_| like subscripts and superscripts.\index{superscript}
-\footnote{\AmS-\LaTeX{} in addition has multi-line super-/subscripts.}
+and~\verb|_| like subscripts and superscripts:
 \begin{example}
-\begin{displaymath}
-\sum_{i=1}^{n} \qquad
-\int_{0}^{\frac{\pi}{2}} \qquad
+\begin{equation*}
+\sum_{i=1}^n \qquad
+\int_0^{\frac{\pi}{2}} \qquad
 \prod_\epsilon
-\end{displaymath}
+\end{equation*}
 \end{example}
 
 To get more control over the placement of indices in complex
-expressions, \pai{amsmath} provides two additional tools:
-the \ci{substack} command and the \ei{subarray} environment:
+expressions, \pai{amsmath} provides the \ci{substack} command:
 \begin{example}
-\begin{displaymath}
-\sum_{\substack{0<i<n \\ 1<j<m}}
-   P(i,j) =
-\sum_{\begin{subarray}{l}
-         i\in I\\
-         1<j<m
-      \end{subarray}}     Q(i,j)
-\end{displaymath}
+\begin{equation*}
+\sum^n_{\substack{0<i<n \\ 
+        j\subseteq i}}
+   P(i,j) = Q(i,j)
+\end{equation*}
 \end{example}
 
-\medskip
 
-\TeX{} provides all sorts of symbols for
-\textbf{\wi{braces}} and other \wi{delimiters}
-(e.g.~$[\;\langle\;\|\;\updownarrow$).
+
+\LaTeX{} provides all sorts of symbols for \textbf{\wi{braces}} and other
+\textbf{\wi{delimiters}} (e.g.~$[\;\langle\;\|\;\updownarrow$).
 Round and square braces can be entered with the corresponding keys and
 curly braces with \verb|\{|, but all other delimiters are generated with
-special commands (e.g.~\verb|\updownarrow|). For a list of all
-delimiters available, check Table~\ref{tab:delimiters} on page
-\pageref{tab:delimiters}.
+special commands (e.g.~\verb|\updownarrow|).
 \begin{example}
-\begin{displaymath}
-{a,b,c}\neq\{a,b,c\}
-\end{displaymath}
+\begin{equation*}
+{a,b,c} \neq \{a,b,c\}
+\end{equation*}
 \end{example}
 
-If you put the command \ci{left} in front of an opening delimiter or
-\ci{right} in front of a closing delimiter, \TeX{} will automatically
+If you put \ci{left} in front of an opening delimiter and
+\ci{right} in front of a closing delimiter, \LaTeX{} will automatically
 determine the correct size of the delimiter. Note that you must close
-every \ci{left} with a corresponding \ci{right}, and that the size is
-determined correctly only if both are typeset on the same line. If you
-don't want anything on the right, use the invisible `\ci{right.}'!
+every \ci{left} with a corresponding \ci{right}. If you
+don't want anything on the right, use the invisible ``\ci{right.}:''
 \begin{example}
-\begin{displaymath}
-1 + \left( \frac{1}{ 1-x^{2} }
-    \right) ^3
-\end{displaymath}
+\begin{equation*}
+1 + \left(\frac{1}{1-x^{2}}
+    \right)^3 \qquad 
+\left. \ddagger \frac{~}{~}\right)
+\end{equation*}
 \end{example}
 
 In some cases it is necessary to specify the correct size of a
 mathematical delimiter\index{mathematical!delimiter} by hand,
 which can be done using the commands \ci{big}, \ci{Big}, \ci{bigg} and
-\ci{Bigg} as prefixes to most delimiter commands.\footnote{These
-  commands do not work as expected if a size changing command has been
-  used, or the \texttt{11pt} or \texttt{12pt} option has been
-  specified.  Use the \pai{exscale} or \pai{amsmath} packages to
-  correct this behaviour.}
-\begin{example}
-$\Big( (x+1) (x-1) \Big) ^{2}$\\
-$\big(\Big(\bigg(\Bigg($\quad
-$\big\}\Big\}\bigg\}\Bigg\}$
-\quad
-$\big\|\Big\|\bigg\|\Bigg\|$
-\end{example}
-
-There are several commands to enter \textbf{\wi{three dots}} into a formula.
-\ci{ldots} typesets the dots on the baseline and \ci{cdots}
-sets them centred. Besides that, there are the commands \ci{vdots} for
-vertical and \ci{ddots} for \wi{diagonal dots}.\index{vertical
-  dots}\index{horizontal!dots} You can find another example in section~\ref{sec:vert}.
-\begin{example}
-\begin{displaymath}
-x_{1},\ldots,x_{n} \qquad
-x_{1}+\cdots+x_{n}
-\end{displaymath}
+\ci{Bigg} as prefixes to most delimiter commands:
+\begin{example}
+$\Big((x+1)(x-1)\Big)^{2}$\\
+$\big( \Big( \bigg( \Bigg( \quad
+\big\} \Big\} \bigg\} \Bigg\} \quad
+\big\| \Big\| \bigg\| \Bigg\| \quad
+\big\Downarrow \Big\Downarrow 
+\bigg\Downarrow \Bigg\Downarrow $
 \end{example}
- 
-\section{Math Spacing}
+ For a list of all delimiters available, see Table~\ref{tab:delimiters} on page
+\pageref{tab:delimiters}. 
 
-\index{math spacing} If the spaces within formulae chosen by \TeX{}
-are not satisfactory, they can be adjusted by inserting special
-spacing commands. There are some commands for small spaces: \ci{,} for
-$\frac{3}{18}\:\textrm{quad}$ (\demowidth{0.166em}), \ci{:} for $\frac{4}{18}\:
-\textrm{quad}$ (\demowidth{0.222em}) and \ci{;} for $\frac{5}{18}\:
-\textrm{quad}$ (\demowidth{0.277em}).  The escaped space character
-\verb*.\ . generates a medium sized space and \ci{quad}
-(\demowidth{1em}) and \ci{qquad} (\demowidth{2em}) produce large
-spaces. The size of a \ci{quad} corresponds to the width of the
-character `M' of the current font.  The \verb|\!|\cih{"!} command produces a
-negative space of $-\frac{3}{18}\:\textrm{quad}$ (\demowidth{0.166em}).
-\begin{example}
-\newcommand{\ud}{\mathrm{d}}
-\begin{displaymath}
-\int\!\!\!\int_{D} g(x,y)
-  \, \ud x\, \ud y 
-\end{displaymath}
-instead of 
-\begin{displaymath}
-\int\int_{D} g(x,y)\ud x \ud y
-\end{displaymath}
-\end{example}
-Note that `d' in the differential is conventionally set in roman.
-
-\AmS-\LaTeX{} provides another way for fine-tuning
-the spacing between multiple integral signs,
-namely the \ci{iint}, \ci{iiint}, \ci{iiiint}, and \ci{idotsint} commands.
-With the \pai{amsmath} package loaded, the above example can be
-typeset this way:
-\begin{example}
-\newcommand{\ud}{\mathrm{d}}
-\begin{displaymath}
-\iint_{D} \, \ud x \, \ud y
-\end{displaymath}
-\end{example}
-
-See the electronic document testmath.tex (distributed with
-\AmS-\LaTeX) or Chapter 8 of \companion{} for further details.
+\section{Vertically Aligned Material} 
+
+\subsection{Multiple Equations}
+\index{equation!multiple}
+
+For formulae running over several lines or for \wi{equation system}s,
+you can use the environments \ei{align} and \verb|align*|
+instead of \texttt{equation} and \texttt{equation*}.\footnote{The \ei{align}
+  environment is from \textsf{amsmath}. A similar environment without \texttt{amsmath}
+  from \LaTeX{} is \ei{eqnarray}, but it is generally not advised to use that
+because of spacing and label inconsistencies.} With \ei{align} each line gets an
+equation number. The \verb|align*| does not number anything.
+
+The \ei{align} environments center the single equation around the \verb|&|
+sign. The \verb|\\| command breaks the lines. If you only want to enumerate some
+of equations, use \ci{nonumber} to remove the number. It has to be placed
+\emph{before} \verb|\\|:
+\begin{example}
+ \begin{align}
+  f(x) &= (a+b)(a-b) \label{1}\\
+       &= a^2-ab+ba-b^2  \\ 
+       &= a^2+b^2 \tag{wrong}
+ \end{align}
+This is a reference to \eqref{1}.
+\end{example}
+
+\index{long equations} \textbf{Long equations} will not be
+automatically divided into neat bits.  The author has to specify
+where to break them and correct the indent:
+\begin{example}
+ \begin{align}
+   f(x) ={}& 3x^5 + x^4 + 2x^3 
+                     \nonumber \\
+           & + 9x^2 + 12x + 23 \\
+        ={}& g(x) - h(x)
+ \end{align}
+\end{example}
+The \pai{amsmath} package provides a couple of other useful environment: \verb|flalign|,
+\verb|gather|, \verb|multline| and \verb|split|. See the
+documentation for the package for a wide range of commands, environments and more.
 
-\section{Vertically Aligned Material}
-\label{sec:vert}
+\subsection{Arrays and Matrices} \label{sec:arraymat}
 
 To typeset \textbf{arrays}, use the \ei{array} environment. It works
 somewhat similar to the \texttt{tabular} environment. The \verb|\\| command is
-used to break the lines.
+used to break the lines:
 \begin{example}
-\begin{displaymath}
-\mathbf{X} =
-\left( \begin{array}{ccc}
-x_{11} & x_{12} & \ldots \\
-x_{21} & x_{22} & \ldots \\
-\vdots & \vdots & \ddots
-\end{array} \right)
-\end{displaymath}
+\begin{equation*}
+ \mathbf{X} = \left( 
+  \begin{array}{ccc}
+   x_1 & x_2 & \ldots \\
+   x_3 & x_4 & \ldots \\
+   \vdots & \vdots & \ddots
+  \end{array} \right)
+\end{equation*}
 \end{example}
 
-The \ei{array} environment can also be used to typeset expressions that have one
-big delimiter by using a ``\verb|.|'' as an invisible \ci{right} 
-delimiter:
+
+The \ei{array} environment can also be used to typeset \wi{piecewise function}s by
+using a ``\verb|.|'' as an invisible \ci{right} delimiter:\footnote{If you want
+  to typeset a lot of constructions like these, the \ei{cases} environment from
+  \texttt{amsmath} simplifies the syntax, so it is worth a look.}  
 \begin{example}
-\begin{displaymath}
-y = \left\{ \begin{array}{ll}
- a & \textrm{if $d>c$}\\
- b+x & \textrm{in the morning}\\
- l & \textrm{all day long}
-  \end{array} \right.
-\end{displaymath}
+\begin{equation*}
+|x| = \left\{
+ \begin{array}{rl}
+  -x & \text{if } x < 0\\
+   0 & \text{if } x = 0\\
+   x & \text{if } x > 0
+ \end{array} \right.
+\end{equation*}
 \end{example}
 
-Just as with the \verb|tabular| environment, you can also
-draw lines in the \ei{array} environment, e.g. separating the entries of
-a matrix:
+
+
+\ei{array} can be used to typeset matrices\index{matrix} as well, but
+\pai{amsmath} provides a better solution using the different \ei{matrix}
+environments. There are six versions with different delimiters: \ei{matrix}
+(none), \ei{pmatrix} $($, \ei{bmatrix} $[$, \ei{Bmatrix} $\{$, \ei{vmatrix} $\vert$ and
+\ei{Vmatrix} $\Vert$. You don't have to specify the number of columns as with
+\ei{array}. The maximum number is 10, but it is customisable (though it is not
+very often you need 10 columns!):
 \begin{example}
-\begin{displaymath}
-\left(\begin{array}{c|c}
- 1 & 2 \\
-\hline
-3 & 4
-\end{array}\right)
-\end{displaymath}
+\begin{equation*}
+ \begin{matrix} 
+   1 & 2 \\
+   3 & 4 
+ \end{matrix} \qquad
+ \begin{bmatrix} 
+   1 & 2 & 3 \\
+   4 & 5 & 6 \\ 
+   7 & 8 & 9
+ \end{bmatrix}
+\end{equation*}
 \end{example}
 
 
 
-For formulae running over several lines or for \wi{equation system}s,
-you can use the environments \ei{eqnarray}, and \verb|eqnarray*|
-instead of \texttt{equation}. In \texttt{eqnarray} each line gets an
-equation number. The \verb|eqnarray*| does not number anything.
-
-The \texttt{eqnarray} and the \verb|eqnarray*| environments work like
-a 3-column table of the form \verb|{rcl}|, where the middle column can
-be used for the equal sign, the not-equal sign, or any other sign
-you see fit. The \verb|\\| command breaks the lines.
-\begin{example}
-\begin{eqnarray}
-f(x) & = & \cos x     \\
-f'(x) & = & -\sin x   \\
-\int_{0}^{x} f(y)dy &
- = & \sin x
-\end{eqnarray}
-\end{example}
-Notice that the space on either side of the 
-equal signs is rather large. It can be reduced by setting
-\verb|\setlength\arraycolsep{2pt}|, as in the next example.
+\section{Spacing in Math Mode} \label{sec:math-spacing}
 
-\index{long equations} \textbf{Long equations} will not be
-automatically divided into neat bits.  The author has to specify
-where to break them and how much to indent. The following two methods
-are the most common ways to achieve this.
+\index{math spacing} If the spacing within formulae chosen by \LaTeX{}
+is not satisfactory, it can be adjusted by inserting special
+spacing commands: \ci{,} for
+$\frac{3}{18}\:\textrm{quad}$ (\demowidth{0.166em}), \ci{:} for $\frac{4}{18}\:
+\textrm{quad}$ (\demowidth{0.222em}) and \ci{;} for $\frac{5}{18}\:
+\textrm{quad}$ (\demowidth{0.277em}).  The escaped space character
+\verb*|\ | generates a medium sized space comparable to the interword spacing and \ci{quad}
+(\demowidth{1em}) and \ci{qquad} (\demowidth{2em}) produce large
+spaces. The size of a \ci{quad} corresponds to the width of the
+character `M' of the current font. \verb|\!|\cih{"!} produces a
+negative space of $-\frac{3}{18}\:\textrm{quad}$ ($-$\demowidth{0.166em}).
+
+Note that `d' in the differential is conventionally set in roman:
 \begin{example}
-{\setlength\arraycolsep{2pt}
-\begin{eqnarray}
-\sin x & = & x -\frac{x^{3}}{3!}
-     +\frac{x^{5}}{5!}-{}
-                    \nonumber\\
-&& {}-\frac{x^{7}}{7!}+{}\cdots
-\end{eqnarray}}
+\begin{equation*}
+ \int_1^2 \ln x \text{d}x \qquad
+ \int_1^2 \ln x \,\text{d}x
+\end{equation*}
 \end{example}
+
+
+In the next example, we define a new command \ci{ud} which produces
+``$\,\text{d}$'' (notice the spacing \demowidth{0.166em} before the
+$\text{d}$), so we don't have to write it every time. The \ci{newcommand} is
+placed in the preamble. %  More on
+% \ci{newcommand} in section~\ref{} on page \pageref{}. To Do: Add label and
+% reference to "Customising LaTeX" -> "New Commands, Environments and Packages"
+% -> "New Commands".
 \begin{example}
-\begin{eqnarray}
-\lefteqn{ \cos x = 1
-     -\frac{x^{2}}{2!} +{} }
-                    \nonumber\\
- & & {}+\frac{x^{4}}{4!}
-     -\frac{x^{6}}{6!}+{}\cdots
-\end{eqnarray}
+\newcommand{\ud}{\,\text{d}}
+
+\begin{equation*}
+ \int_a^b f(x)\ud x 
+\end{equation*}
 \end{example}
 
-%\enlargethispage{\baselineskip}
-\noindent The \ci{nonumber} command tells \LaTeX{} not to generate a number for
-this equation.
+If you want to typeset multiple integrals, you'll discover that the spacing
+between the integrals is too wide. You can correct it using \ci{!}, but
+\pai{amsmath} provides an easier way for fine-tuning
+the spacing, namely the \ci{iint}, \ci{iiint}, \ci{iiiint}, and \ci{idotsint}
+commands.
 
-It can be difficult to get vertically aligned equations to look right
-with these methods; the package \pai{amsmath} provides a more
-powerful set of alternatives. (see \verb|align|, \verb|flalign|,
-\verb|gather|, \verb|multline| and \verb|split| environments).
+\begin{example}
+\newcommand{\ud}{\,\text{d}}
 
-\section{Phantoms}
+\[ \int\int f(x)g(y) 
+                  \ud x \ud y \]
+\[ \int\!\!\!\int 
+         f(x)g(y) \ud x \ud y \]
+\[ \iint f(x)g(y) \ud x \ud y \]
+\end{example}
 
-We can't see phantoms, but they still occupy some space in many people's minds.
-\LaTeX{} is no different. We can use this for
-some interesting spacing tricks.
+See the electronic document \texttt{testmath.tex} (distributed with
+\AmS-\LaTeX) or Chapter 8 of \companion{} for further details.
+
+\subsection{Phantoms}
 
 When vertically aligning text using \verb|^| and \verb|_| \LaTeX{} is sometimes
-just a little bit too helpful. Using the \ci{phantom} command you can
+just a little too helpful. Using the \ci{phantom} command you can
 reserve space for characters that do not show up in the final output.
-The easiest way to understand this is to look at the following examples.
-\begin{example}
-\begin{displaymath}
-{}^{12}_{\phantom{1}6}\textrm{C}
-\qquad \textrm{versus} \qquad
-{}^{12}_{6}\textrm{C}
-\end{displaymath}
-\end{example}
+The easiest way to understand this is to look at an example:
 \begin{example}
-\begin{displaymath} 
-\Gamma_{ij}^{\phantom{ij}k}
-\qquad \textrm{versus} \qquad
-\Gamma_{ij}^{k}
-\end{displaymath}  
+\begin{equation*}
+{}^{14}_{6}\text{C}
+\qquad \text{versus} \qquad
+{}^{14}_{\phantom{1}6}\text{C}
+\end{equation*}
 \end{example}
+If you want to typeset a lot of isotopes like in the example, the \pai{mhchem}
+package is very useful for typesetting isotopes and chemical formulae too.
 
-\section{Math Font Size}\label{sec:fontsz}
 
-\index{math font size} In math mode, \TeX{} selects the font size
-according to the context. Superscripts, for example, get typeset in a
-smaller font. If you want to typeset part of an equation in roman,
-don't use the \verb|\textrm| command, because the font size switching
-mechanism will not work, as \verb|\textrm| temporarily escapes to text
-mode. Use \verb|\mathrm| instead to keep the size switching mechanism
-active. But pay attention, \ci{mathrm} will only work well on short
-items. Spaces are still not active and accented characters do not
-work.\footnote{The \AmS-\LaTeX{} (\pai{amsmath}) package makes the \ci{textrm} command
-  work with size changing.}
+\section{Fiddling with the Math Fonts}\label{sec:fontsz}
+Different math fonts are listed on Table~\ref{mathalpha} on page
+\pageref{mathalpha}.
 \begin{example}
-\begin{equation}
-2^{\textrm{nd}} \quad 
-2^{\mathrm{nd}}
-\end{equation}
+ $\Re \qquad
+  \mathcal{R} \qquad
+  \mathfrak{R} \qquad
+  \mathbb{R} \qquad $  
 \end{example}
+The last two require \pai{amssymb} or \pai{amsfonts}.
 
-Sometimes you still need to tell \LaTeX{} the correct font
+Sometimes you need to tell \LaTeX{} the correct font
 size. In math mode, this is set with the following four commands:
 \begin{flushleft}
 \ci{displaystyle}~($\displaystyle 123$),
